---
import '../styles/testimonios.css'
---

<section class="testimonios">
    <h2>Testimonios de nuestras <br>clientas <span style="color:#a67c52;">satisfechas</span></h2>

    <div class="slider-container">
      <div class="slider" id="slider">
        <!-- Testimonio 1 -->
        <div class="testimonial">
          <div class="quote">“</div>
          <div class="text">El proceso fue súper cómodo y el resultado es simplemente perfecto. Me siento mucho más segura y lista para cualquier ocasión. ¡Son las mejores!</div>
          <div class="profile">
             <!--<img src="https://i.pravatar.cc/100?img=1" alt="Sarah">-->
            <div class="profile-info">
              <div class="name">- Sofía G.</div>
              <div class="title"></div>
            </div>
          </div>
        </div>
  
        <!-- Testimonio 2 -->
        <div class="testimonial">
          <div class="quote">“</div>
          <div class="text">La atención es de primera, siempre te hacen sentir bienvenida y escuchada. Además, la calidad de las extensiones es superior; me duran muchísimo y siempre lucen fabulosas.</div>
          <div class="profile">
              <!--<img src="https://i.pravatar.cc/100?img=1" alt="Sarah">-->
            <div class="profile-info">
              <div class="name">— Valeria M.</div>
              <div class="title"></div>
            </div>
          </div>
        </div>
  
        <!-- Testimonio 3 -->
        <div class="testimonial">
          <div class="quote">“</div>
          <div class="text">El ambiente es relajante y el profesionalismo es evidente. Salgo de cada cita sintiéndome renovada y con unas pestañas espectaculares</div>
          <div class="profile">
             <!--<img src="https://i.pravatar.cc/100?img=1" alt="Sarah">-->
            <div class="profile-info">
              <div class="name">— Andrea P.z</div>
              <div class="title"></div>
            </div>
          </div>
        </div>
  
        <!-- Testimonio 4 -->
        <div class="testimonial">
          <div class="quote">“</div>
          <div class="text">La calidad del trabajo es excepcional y se nota que utilizan productos de alta gama.</div>
          <div class="profile">
            <!--<img src="https://i.pravatar.cc/100?img=1" alt="Sarah">-->
            <div class="profile-info">
              <div class="name">— Laura C.</div>
              <div class="title"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <div class="controls">
      <button onclick="moveSlide(-1)">‹ Anterior</button>
      <button onclick="moveSlide(1)">Siguiente ›</button>
    </div>
</section>

<script is:global>
  let currentIndex = 0;
  const slider = document.getElementById('slider');
  const slides = slider.children;
  const totalSlides = slides.length;

  let slidesToShow = window.innerWidth < 768 ? 1 : 2;
  let maxIndex = Math.ceil(totalSlides / slidesToShow) - 1;

  window.addEventListener('resize', () => {
    slidesToShow = window.innerWidth < 768 ? 1 : 2;
    maxIndex = Math.ceil(totalSlides / slidesToShow) - 1;
    currentIndex = 0;
    slider.style.transition = 'none';
    slider.style.transform = `translateX(0%)`;
  });

  function moveSlide(direction) {
    currentIndex += direction;

    if (currentIndex < 0) {
      currentIndex = maxIndex;
    }
    if (currentIndex > maxIndex) {
      currentIndex = 0;
    }

    const movePercent = (260 / slidesToShow) * currentIndex;
    slider.style.transition = 'transform 0.5s ease-in-out';
    slider.style.transform = `translateX(-${movePercent}%)`;
  }

  document.getElementById('next').addEventListener('click', () => moveSlide(1));
  document.getElementById('prev').addEventListener('click', () => moveSlide(-1));

  setInterval(() => moveSlide(1), 5000);
</script>
